(this["webpackJsonpecommerce-shopping-cart"]=this["webpackJsonpecommerce-shopping-cart"]||[]).push([[0],{19:function(e,t,a){},31:function(e,t,a){e.exports=a(63)},36:function(e,t,a){},60:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),i=a.n(r),l=(a(36),a(9)),o=a(10),u=a(12),s=a(11),d=a(13),m=a(3),p=a(6),f=a(1),y={loading:!0,products:null},E=a(5),v={cart:[],totalPrice:0,totalQuantity:0},b={sizes:[]},g=Object(p.c)({productsReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PRODUCTS":return{loading:!e.loading,products:t.payload};case"TOGGLE_LOADING":return Object(f.a)({},e,{loading:!e.loading});default:return e}},cartReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,a=Object(E.a)(e.cart);switch(t.type){case"ADD_ITEM":for(var n=0;n<a.length;n++)if(a[n].sku===t.payload.sku)return a[n].quantity=a[n].quantity+1,{cart:a,totalPrice:e.totalPrice+a[n].price,totalQuantity:e.totalQuantity+1};return{cart:[].concat(Object(E.a)(e.cart),[Object(f.a)({},t.payload,{quantity:1})]),totalPrice:e.totalPrice+t.payload.price,totalQuantity:e.totalQuantity+1};case"SUBTRACT_ITEM":for(var c=0;c<a.length;c++)if(a[c].sku===t.payload)return a[c].quantity=a[c].quantity-1,{cart:a,totalPrice:e.totalPrice-a[c].price,totalQuantity:e.totalQuantity-1};break;case"DELETE_ITEM":return{totalPrice:e.totalPrice-t.payload.price*t.payload.quantity,cart:a.filter((function(e){return e.sku!==t.payload.sku})),totalQuantity:e.totalQuantity-t.payload.quantity};default:return e}},filterReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SIZE":var a=Object(E.a)(e.sizes),n=a.indexOf(t.payload);return n>-1?(a=a.filter((function(e){return e!==t.payload})),Object(f.a)({},e,{sizes:a})):Object(f.a)({},e,{sizes:[].concat(Object(E.a)(e.sizes),[t.payload])});default:return e}}}),h=a(29),O=Object(p.d)(g,Object(p.a)(h.a)),k=(a(19),a(17)),j=a.n(k),N=a(30),I=a.n(N),z=function(){return{type:"TOGGLE_LOADING"}},T=function(e){return{type:"ADD_ITEM",payload:e}};var S=Object(n.memo)(Object(m.b)((function(){return{}}),(function(e){return{addItem:function(t){return e(t)}}}))((function(e){var t=e.sku,a=e.title,n=e.style,r=e.price,i=e.addItem;return c.a.createElement("div",{className:"dashboard-product"},c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("img",{alt:t,className:"product-image",src:"/images/products/".concat(t,"_1.jpg")})),c.a.createElement("h4",{className:"product-title"},a),c.a.createElement("p",null,n),c.a.createElement("p",null,r," $"),c.a.createElement("button",{className:"btn-add",onClick:function(){i(T({title:a,style:n,price:r,sku:t}))}},"Add To Shopping Cart")))}))),C=(a(60),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).getProducts=function(){a.props.toggleLoading();var e=a.props.products.products,t=a.props.sizes;return t.length&&(e=e.filter((function(e){return e.availableSizes.some((function(e){return t.indexOf(e)>=0}))}))),a.props.toggleLoading(),e.map((function(e){return c.a.createElement(S,{key:e.sku,sku:e.sku,style:e.style,title:e.title,price:e.price})}))},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.setInitialProducts()}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("h1",{className:"header"},"Shirts Shop"),c.a.createElement("div",{className:"container"},this.props.loading?c.a.createElement("div",{className:"lds-dual-ring"}):this.getProducts()))}}]),t}(n.Component)),P=Object(m.b)((function(e,t){return Object(f.a)({},e.productsReducer,{},e.filterReducer,{},t)}),(function(e){return{setInitialProducts:function(){return e((function(e){var t,a;return j.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.awrap(I.a.get("/db"));case 2:t=n.sent,a=t.data,e({type:"SET_PRODUCTS",payload:a});case 5:case"end":return n.stop()}}))}))},toggleLoading:function(){e(z)}}}))(C);a(61);var w=Object(m.b)((function(e,t){return Object(f.a)({},t)}),(function(e){return{substractItem:function(t){return e(function(e){return{type:"SUBTRACT_ITEM",payload:e}}(t))},addItem:function(t){return e(T({sku:t}))},deleteItem:function(t){return e(function(e){return{type:"DELETE_ITEM",payload:e}}(t))}}}))((function(e){var t=e.title,a=e.price,n=e.sku,r=e.style,i=e.quantity,l=e.substractItem,o=e.addItem,u=e.deleteItem;return c.a.createElement("li",{key:n},c.a.createElement("div",{className:"cart-product"},c.a.createElement("div",{className:"image-details"},c.a.createElement("img",{alt:n,className:"cart-product-image",src:"/images/products/".concat(n,"_2.jpg")}),c.a.createElement("div",{className:"details"},c.a.createElement("p",null,t),c.a.createElement("p",null,r),c.a.createElement("p",{className:"yellow-text"},a,"$"),c.a.createElement("p",null,"Quantity: ",i))),c.a.createElement("div",{className:"actions-section"},c.a.createElement("div",{className:"delete",onClick:function(){u({sku:n,price:a,quantity:i})}},"X"),c.a.createElement("div",{className:"add-remove"},c.a.createElement("button",{onClick:function(){l(n)},className:1===i?"disabled":"",disabled:!(i>1)},"-"),c.a.createElement("button",{onClick:function(){o(n)}},"+")))))}));var D=Object(m.b)((function(e,t){return Object(f.a)({},e.cartReducer,{},t)}))((function(e){return c.a.createElement("div",null,c.a.createElement("div",{id:"cart",className:"cart"},c.a.createElement("div",{className:"checkout-button",onClick:function(){document.getElementById("cart").classList.toggle("active")}},c.a.createElement("img",{alt:"cart",src:"./images/cart.png",className:"cart-icon"}),c.a.createElement("span",{className:"num-products"},e.totalQuantity)),c.a.createElement("div",{className:"cart-header"},"Your Cart"),c.a.createElement("ul",{className:"cart-all-products"},e.cart.length?e.cart.map((function(e){return c.a.createElement(w,{key:e.sku,title:e.title,sku:e.sku,price:e.price,quantity:e.quantity,style:e.style})})):c.a.createElement("div",{className:"cart-header"},"Add Items To Your Cart")),c.a.createElement("div",{className:"cart-header yellow-text"},"Total Price: ",e.totalPrice.toFixed(1)," $"),c.a.createElement("div",{className:"order-button"},"Checkout")))}));a(62);var _=Object(n.memo)((function(e){var t=e.size,a=e.handleSizeChoose,n=e.chosen;return c.a.createElement("div",{className:n?"size active":"size",onClick:function(){a(t)}},t)})),L=["XS","S","M","L","XL","XXL"];var q=Object(m.b)((function(e,t){return Object(f.a)({sizes:Object(E.a)(e.filterReducer.sizes)},t)}),(function(e){return{addSize:function(t){e(function(e){return{type:"ADD_SIZE",payload:e}}(t))}}}))((function(e){var t=e.sizes,a=e.addSize,n=function(e){a(e)};return c.a.createElement("div",{className:"filters-section"},c.a.createElement("div",{className:"sizes"},c.a.createElement("div",{className:"sizes-title"},"Sizes"),c.a.createElement("div",{className:"sizes-content"},L.map((function(e){return c.a.createElement(_,{key:e,size:e,chosen:t.indexOf(e)>-1,handleSizeChoose:n})})))))})),A=function(e){function t(){return Object(l.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement(m.a,{store:O},c.a.createElement(q,null),c.a.createElement(D,null),c.a.createElement(P,null))}}]),t}(n.Component);O.subscribe((function(){console.log(O.getState())}));var Q=A;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.a7c4c767.chunk.js.map